{% extends "base.html" %}
{% load static %}
{% block extrahead %}
<link rel="stylesheet" href="{% static 'css/index.css' %}">
{% endblock extrahead %}
{% block content %}
<script src="https://unpkg.com/magic-grid@3.1.2/dist/magic-grid.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.dotdotdot/4.0.11/dotdotdot.js"></script>
<script src="https://unpkg.com/vue"></script>
<script src="https://unpkg.com/vue-router"></script>
<script src="https://unpkg.com/vuex"></script>
<div class="container">
    <div id="app" v-cloak>        
        <post-list v-bind:posts="posts"></post-list>
    </div>

    <template id="post-list-template">
        <div  class="container-post">
            <post 
                v-for="post in posts"
                v-bind:title="post.title"
                v-bind:content="post.content"
                :key="post.slug"
            ></post>
         
        </div>
    </template>

    <template id="post-template">
        <div class="post mb-4 overflow-hidden">
            <h2 class="post-title" v-html="title"></h2>
            <div class="post-content" v-html="content"></div>
        </div>
    </template>

    {% comment %} <div class="container-post">
        {% for post in posts %}
        <div class="post mb-4 overflow-hidden" data-post-slug="{{ post.slug }}">
            <!-- post images -->
            {% if post.images.all.count > 0 %}
            <div class="w-100 d-flex flex-row">
                {% for image in post.images.all %}
                <div class="flex-grow-1">
                    <img class="w-100" src="{{ image.img_file.url }}" />
                </div>
                {% endfor %}
            </div>
            {% endif %}
            <!-- end post images -->

            {% if post.title %}
            <h2 class="post-title">{{ post.title }}</h2>
            {% endif %}


            <div class="post-content">{{ post.content| safe }}</div>

            <!-- post tag -->
            {% if post.tag.all.count %}
            <div class="p-3">
                <div class="tags">
                    {% for tag in post.tag.all %}
                    <a href="{% url 'tag_detail' tag.slug %}"
                        class="tag badge badge-pill badge-dark font-weight-normal">{{ tag }}</a>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
            <!-- end post tag -->
        </div>
        {% endfor %}
    </div> {% endcomment %}
</div>
<script src="{% static 'js/index.js' %}"></script>
{%endblock%}